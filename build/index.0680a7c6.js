function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}require("regenerator-runtime");var _axios=$parcel$interopDefault(require("axios")),{map:map,tileLayer:tileLayer,marker:marker,circle:circle}=require("leaflet");require("core-js/modules/es.math.hypot.js");const $b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm=document.querySelector("form#register-form"),$b808ca0c09ce149316c78c0bcf9ee842$var$LoginForm=document.querySelector("form#login-form"),$b808ca0c09ce149316c78c0bcf9ee842$var$chartSection=document.querySelector(".section__chart"),$b808ca0c09ce149316c78c0bcf9ee842$var$footerSection=document.querySelector(".section__footer"),$b808ca0c09ce149316c78c0bcf9ee842$var$landerSection=document.querySelector(".section__lander");let $b808ca0c09ce149316c78c0bcf9ee842$var$currentUser={id:null,username:null,carNumber:null,password:null,isLoggedIn:!1};const $b808ca0c09ce149316c78c0bcf9ee842$var$initFormListeners=function(){$b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm.addEventListener("submit",(e=>{e.preventDefault(),$b808ca0c09ce149316c78c0bcf9ee842$var$handleRegister(e)})),$b808ca0c09ce149316c78c0bcf9ee842$var$LoginForm.addEventListener("submit",(e=>{e.preventDefault(),$b808ca0c09ce149316c78c0bcf9ee842$var$handleLogin(e)}))},$b808ca0c09ce149316c78c0bcf9ee842$var$isFieldsEmpty=function(...e){return e.some((e=>0===e.length))},$b808ca0c09ce149316c78c0bcf9ee842$var$clearAll=function(e){[...e.querySelectorAll(".form__input")].forEach((e=>e.value=""))},$b808ca0c09ce149316c78c0bcf9ee842$var$handleRegister=async function(e){const t=$b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm.querySelector('.form__input[name="username"]').value,r=$b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm.querySelector('.form__input[name="password"]').value,n=$b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm.querySelector('.form__input[name="carNumber"]').value;if(r!==$b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm.querySelector('.form__input[name="passwordSecond"]').value)return void $b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("Passwords don't match, Check it once  again");if($b808ca0c09ce149316c78c0bcf9ee842$var$isFieldsEmpty(t,r))return void $b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("Empty fields");const i={username:t,password:r,carNumber:n};_axios.post("/register",i).then((e=>{e.data?(hideBoth(),$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert(`Car number ${e.data.carNumber} registered successfully with username: ${e.data.username}`),$b808ca0c09ce149316c78c0bcf9ee842$var$clearAll($b808ca0c09ce149316c78c0bcf9ee842$var$RegisterForm)):$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("Username already registered, use a different one.")})).catch((e=>{$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert(e.message)}))},$b808ca0c09ce149316c78c0bcf9ee842$var$handleLogin=async function(e){const t=$b808ca0c09ce149316c78c0bcf9ee842$var$LoginForm.querySelector('.form__input[name="username"]').value,r=$b808ca0c09ce149316c78c0bcf9ee842$var$LoginForm.querySelector('.form__input[name="password"]').value,n={username:t,password:r};$b808ca0c09ce149316c78c0bcf9ee842$var$isFieldsEmpty(t,r)?$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("Empty fields"):_axios.post("/login",n).then((e=>{e.data&&""!==e.data?(hideBoth(),$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert(`Logged in as ${e.data.username}!`),$b808ca0c09ce149316c78c0bcf9ee842$var$setUser(e.data),$b808ca0c09ce149316c78c0bcf9ee842$var$changeCSS(),$b808ca0c09ce149316c78c0bcf9ee842$var$clearAll($b808ca0c09ce149316c78c0bcf9ee842$var$LoginForm)):$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("Invalid credentials")})).catch((e=>{console.log(e),$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert(`Error logging in! Try again after checking the credentials :)\n${e.message}`)}))},$b808ca0c09ce149316c78c0bcf9ee842$var$setUser=function(e){$b808ca0c09ce149316c78c0bcf9ee842$var$currentUser={id:e._id,username:e.username,password:e.password,carNumber:e.carNumber,isLoggedin:!0}},$b808ca0c09ce149316c78c0bcf9ee842$var$changeCSS=function(){const e=`\n\tWelcome ${$b808ca0c09ce149316c78c0bcf9ee842$var$currentUser.username}!\n\t`;$b808ca0c09ce149316c78c0bcf9ee842$var$landerSection.querySelector(".right").innerHTML=e,$b808ca0c09ce149316c78c0bcf9ee842$var$chartSection.style.display="block",$b808ca0c09ce149316c78c0bcf9ee842$var$footerSection.style.paddingTop="4rem",$b808ca0c09ce149316c78c0bcf9ee842$var$footerSection.style.marginTop="0",$b808ca0c09ce149316c78c0bcf9ee842$var$chartSection.scrollIntoView()},$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert=function(e){const t=`\n\t<div class="alert">\n\t\t<div class="alert__message">\n\t\t${e}\n\t\t</div>\n\t\t<div class="alert__close">X</div>\n\t</div>\n\t`;document.querySelector("body").insertAdjacentHTML("beforeend",t);const r=document.querySelector(".alert"),n=function(){r.style.transform="translateX(-50%) translateY(10rem)",setTimeout((()=>{r.style.display="none",r.remove(),[...document.querySelectorAll(".alert")].forEach((e=>e.remove()))}),250)};r.querySelector(".alert__close").addEventListener("click",n),setTimeout(n,4e3)};$b808ca0c09ce149316c78c0bcf9ee842$var$initFormListeners();let $7bb268fc211b8e7b98c056e5fe0487d8$var$values={},$7bb268fc211b8e7b98c056e5fe0487d8$var$bmsChart;const $7bb268fc211b8e7b98c056e5fe0487d8$var$retrieveData=async function(){try{await _axios.get("/values").then((e=>{console.log(e.data),$7bb268fc211b8e7b98c056e5fe0487d8$var$values=e.data,$7bb268fc211b8e7b98c056e5fe0487d8$var$values?$7bb268fc211b8e7b98c056e5fe0487d8$var$bmsChart=$7bb268fc211b8e7b98c056e5fe0487d8$var$initChart():$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("There was no data received from the backend! ;(")}))}catch(e){console.log(e),$b808ca0c09ce149316c78c0bcf9ee842$export$showAlert("There was an error while retrieving the values of the chart")}},$7bb268fc211b8e7b98c056e5fe0487d8$var$initChart=function(){const e=document.getElementById("myChart"),t=[$7bb268fc211b8e7b98c056e5fe0487d8$var$values.currentCharge,$7bb268fc211b8e7b98c056e5fe0487d8$var$values.voltage,$7bb268fc211b8e7b98c056e5fe0487d8$var$values.energy,$7bb268fc211b8e7b98c056e5fe0487d8$var$values.maxcurrentenergy,$7bb268fc211b8e7b98c056e5fe0487d8$var$values.maxdesignenergy];return new Chart(e,{type:"bar",data:{labels:["Charge","Voltage","Energy","Max-Current Energy","Max-Design Energy"],datasets:[{label:"Units",data:t,backgroundColor:["rgba(249, 65, 68, 0.5)","rgba(243, 114, 44, 0.5)","rgba(248, 150, 30, 0.5)","rgba(249, 199, 79, 0.5)","rgba(144, 190, 109, 0.5)","rgba(67, 170, 139, 0.5)","rgba(87, 117, 144, 0.5)"],borderColor:["#f94144","#f3722c","#f8961e","#f9c74f","#90be6d","#43aa8b","#577590"],borderWidth:1,borderRadius:3}]},options:{scales:{y:{beginAtZero:!0}},layout:{padding:20},animation:{easing:"easeOutBounce"},font:{size:26},plugins:{legend:{display:!1},tooltip:{displayColors:!0,backgroundColor:"#c3ecec",bodyColor:"#6930c3",titleColor:"#7400b8",titleMarginBottom:10,padding:"10",titleFont:{family:"Lato",size:16},bodyFont:{family:"Lato",size:14},animation:{easing:"easeInOutCirc"},bodyAlign:"right"}}}})};document.addEventListener("DOMContentLoaded",$7bb268fc211b8e7b98c056e5fe0487d8$var$retrieveData);var $73a8ab80643d42c71b2c9bfa15279955$exports=function(){var exports=this,module={exports:this},requirejs,require,define;return function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var r;if(e)for(r=0;r<e.length&&(!e[r]||!t(e[r],r,e));r+=1);}function eachReverse(e,t){var r;if(e)for(r=e.length-1;r>-1&&(!e[r]||!t(e[r],r,e));r-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var r;for(r in e)if(hasProp(e,r)&&t(e[r],r))break}function mixin(e,t,r,n){return t&&eachProp(t,(function(t,i){!r&&hasProp(e,i)||(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,r,n)))})),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),(function(e){t=t[e]})),t}function makeError(e,t,r,n){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=n,r&&(i.originalError=r),i}function newContext(e){function t(e,t,r){var n,i,a,c,o,s,u,d,l,f,p=t&&t.split("/"),b=q.map,h=b&&b["*"];if(e&&(s=(e=e.split("/")).length-1,q.nodeIdCompat&&jsSuffixRegExp.test(e[s])&&(e[s]=e[s].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),function(e){var t,r;for(t=0;t<e.length;t++)if("."===(r=e[t]))e.splice(t,1),t-=1;else if(".."===r){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),r&&b&&(p||h)){e:for(a=(i=e.split("/")).length;a>0;a-=1){if(o=i.slice(0,a).join("/"),p)for(c=p.length;c>0;c-=1)if((n=getOwn(b,p.slice(0,c).join("/")))&&(n=getOwn(n,o))){u=n,d=a;break e}!l&&h&&getOwn(h,o)&&(l=getOwn(h,o),f=a)}!u&&l&&(u=l,d=f),u&&(i.splice(0,d,u),e=i.join("/"))}return getOwn(q.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),(function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===v.contextName)return t.parentNode.removeChild(t),!0}))}function n(e){var t=getOwn(q.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),v.require.undef(e),v.makeRequire(null,{skipMap:!0})([e]),!0}function i(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function a(e,r,n,a){var c,o,s,u,d=null,l=r?r.name:null,f=e,p=!0,b="";return e||(p=!1,e="_@r"+(A+=1)),d=(u=i(e))[0],e=u[1],d&&(d=t(d,l,a),o=getOwn(M,d)),e&&(d?b=n?e:o&&o.normalize?o.normalize(e,(function(e){return t(e,l,a)})):-1===e.indexOf("!")?t(e,l,a):e:(d=(u=i(b=t(e,l,a)))[0],b=u[1],n=!0,c=v.nameToUrl(b))),{prefix:d,name:b,parentMap:r,unnormalized:!!(s=!d||o||n?"":"_unnormalized"+(L+=1)),url:c,originalName:f,isDefine:p,id:(d?d+"!"+b:b)+s}}function c(e){var t=e.id,r=getOwn(S,t);return r||(r=S[t]=new v.Module(e)),r}function o(e,t,r){var n=e.id,i=getOwn(S,n);!hasProp(M,n)||i&&!i.defineEmitComplete?(i=c(e)).error&&"error"===t?r(i.error):i.on(t,r):"defined"===t&&r(M[n])}function s(e,t){var r=e.requireModules,n=!1;t?t(e):(each(r,(function(t){var r=getOwn(S,t);r&&(r.error=e,r.events.error&&(n=!0,r.emit("error",e)))})),n||req.onError(e))}function u(){globalDefQueue.length&&(each(globalDefQueue,(function(e){var t=e[0];"string"==typeof t&&(v.defQueueMap[t]=!0),k.push(e)})),globalDefQueue=[])}function d(e){delete S[e],delete w[e]}function l(e,t,r){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,(function(n,i){var a=n.id,c=getOwn(S,a);!c||e.depMatched[i]||r[a]||(getOwn(t,a)?(e.defineDep(i,M[a]),e.check()):l(c,t,r))})),r[n]=!0)}function f(){var e,t,i=1e3*q.waitSeconds,a=i&&v.startTime+i<(new Date).getTime(),c=[],o=[],u=!1,d=!0;if(!$){if($=!0,eachProp(w,(function(e){var i=e.map,s=i.id;if(e.enabled&&(i.isDefine||o.push(e),!e.error))if(!e.inited&&a)n(s)?(t=!0,u=!0):(c.push(s),r(s));else if(!e.inited&&e.fetched&&i.isDefine&&(u=!0,!i.prefix))return d=!1})),a&&c.length)return(e=makeError("timeout","Load timeout for modules: "+c,null,c)).contextName=v.contextName,s(e);d&&each(o,(function(e){l(e,{},{})})),a&&!t||!u||!isBrowser&&!isWebWorker||x||(x=setTimeout((function(){x=0,f()}),50)),$=!1}}function p(e){hasProp(M,e[0])||c(a(e[0],null,!0)).init(e[1],e[2])}function b(e,t,r,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(r,t,!1)}function h(e){var t=e.currentTarget||e.srcElement;return b(t,v.onScriptLoad,"load","onreadystatechange"),b(t,v.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function m(){var e;for(u();k.length;){if(null===(e=k.shift())[0])return s(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}v.defQueueMap={}}var $,g,v,y,x,q={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},S={},w={},E={},k=[],M={},_={},O={},A=1,L=1;return y={require:function(e){return e.require?e.require:e.require=v.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?M[e.map.id]=e.exports:e.exports=M[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(q.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(g=function(e){this.events=getOwn(E,e.id)||{},this.map=e,this.shim=getOwn(q.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,r,n){n=n||{},this.inited||(this.factory=t,r?this.on("error",r):this.events.error&&(r=bind(this,(function(e){this.emit("error",e)}))),this.depMaps=e&&e.slice(0),this.errback=r,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,v.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();v.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,(function(){return e.prefix?this.callPlugin():this.load()})))}},load:function(){var e=this.map.url;_[e]||(_[e]=!0,v.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,r=this.map.id,n=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=v.execCb(r,a,n,i)}catch(t){e=t}else i=v.execCb(r,a,n,i);if(this.map.isDefine&&void 0===i&&((t=this.module)?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",s(this.error=e)}else i=a;if(this.exports=i,this.map.isDefine&&!this.ignore&&(M[r]=i,req.onResourceLoad)){var c=[];each(this.depMaps,(function(e){c.push(e.normalizedMap||e)})),req.onResourceLoad(v,this.map,c)}d(r),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(v.defQueueMap,r)||this.fetch()}},callPlugin:function(){var e=this.map,r=e.id,n=a(e.prefix);this.depMaps.push(n),o(n,"defined",bind(this,(function(n){var i,u,l,f=getOwn(O,this.map.id),p=this.map.name,b=this.map.parentMap?this.map.parentMap.name:null,h=v.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(p=n.normalize(p,(function(e){return t(e,b,!0)}))||""),o(u=a(e.prefix+"!"+p,this.map.parentMap,!0),"defined",bind(this,(function(e){this.map.normalizedMap=u,this.init([],(function(){return e}),null,{enabled:!0,ignore:!0})}))),void((l=getOwn(S,u.id))&&(this.depMaps.push(u),this.events.error&&l.on("error",bind(this,(function(e){this.emit("error",e)}))),l.enable()))):f?(this.map.url=v.nameToUrl(f),void this.load()):((i=bind(this,(function(e){this.init([],(function(){return e}),null,{enabled:!0})}))).error=bind(this,(function(e){this.inited=!0,this.error=e,e.requireModules=[r],eachProp(S,(function(e){0===e.map.id.indexOf(r+"_unnormalized")&&d(e.map.id)})),s(e)})),i.fromText=bind(this,(function(t,n){var o=e.name,u=a(o),d=useInteractive;n&&(t=n),d&&(useInteractive=!1),c(u),hasProp(q.config,r)&&(q.config[o]=q.config[r]);try{req.exec(t)}catch(e){return s(makeError("fromtexteval","fromText eval for "+r+" failed: "+e,e,[r]))}d&&(useInteractive=!0),this.depMaps.push(u),v.completeLoad(o),h([o],i)})),void n.load(e.name,h,i,q))}))),v.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){w[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,(function(e,t){var r,n,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(y,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,o(e,"defined",bind(this,(function(e){this.undefed||(this.defineDep(t,e),this.check())}))),this.errback?o(e,"error",bind(this,this.errback)):this.events.error&&o(e,"error",bind(this,(function(e){this.emit("error",e)})))}r=e.id,n=S[r],hasProp(y,r)||!n||n.enabled||v.enable(e,this)}))),eachProp(this.pluginMaps,bind(this,(function(e){var t=getOwn(S,e.id);t&&!t.enabled&&v.enable(e,this)}))),this.enabling=!1,this.check()},on:function(e,t){var r=this.events[e];r||(r=this.events[e]=[]),r.push(t)},emit:function(e,t){each(this.events[e],(function(e){e(t)})),"error"===e&&delete this.events[e]}},(v={config:q,contextName:e,registry:S,defined:M,urlFetched:_,defQueue:k,defQueueMap:{},Module:g,makeModuleMap:a,nextTick:req.nextTick,onError:s,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,r){return(-1===r.indexOf("?")?"?":"&")+t}}var r=q.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,(function(e,t){n[t]?(q[t]||(q[t]={}),mixin(q[t],e,!0,!0)):q[t]=e})),e.bundles&&eachProp(e.bundles,(function(e,t){each(e,(function(e){e!==t&&(O[e]=t)}))})),e.shim&&(eachProp(e.shim,(function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=v.makeShimExports(e)),r[t]=e})),q.shim=r),e.packages&&each(e.packages,(function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(q.paths[t]=e.location),q.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")})),eachProp(S,(function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))})),(e.deps||e.callback)&&v.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(n,i){function o(t,r,u){var d,l;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof t?isFunction(r)?s(makeError("requireargs","Invalid require call"),u):n&&hasProp(y,t)?y[t](S[n.id]):req.get?req.get(v,t,n,o):(d=a(t,n,!1,!0).id,hasProp(M,d)?M[d]:s(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(n?"":". Use require([])")))):(m(),v.nextTick((function(){m(),(l=c(a(null,n))).skipMap=i.skipMap,l.init(t,r,u,{enabled:!0}),f()})),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),a=e.split("/")[0];return-1!==i&&(!("."===a||".."===a)||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),v.nameToUrl(t(e,n&&n.id,!0),r,!0)},defined:function(e){return hasProp(M,a(e,n,!1,!0).id)},specified:function(e){return e=a(e,n,!1,!0).id,hasProp(M,e)||hasProp(S,e)}}),n||(o.undef=function(e){u();var t=a(e,n,!0),i=getOwn(S,e);i.undefed=!0,r(e),delete M[e],delete _[t.url],delete E[e],eachReverse(k,(function(t,r){t[0]===e&&k.splice(r,1)})),delete v.defQueueMap[e],i&&(i.events.defined&&(E[e]=i.events),d(e))}),o},enable:function(e){getOwn(S,e.id)&&c(e).enable()},completeLoad:function(e){var t,r,i,a=getOwn(q.shim,e)||{},c=a.exports;for(u();k.length;){if(null===(r=k.shift())[0]){if(r[0]=e,t)break;t=!0}else r[0]===e&&(t=!0);p(r)}if(v.defQueueMap={},i=getOwn(S,e),!t&&!hasProp(M,e)&&i&&!i.inited){if(!(!q.enforceDefine||c&&getGlobal(c)))return n(e)?void 0:s(makeError("nodefine","No define call for "+e,null,[e]));p([e,a.deps||[],a.exportsFn])}f()},nameToUrl:function(e,t,r){var n,i,a,c,o,s,u=getOwn(q.pkgs,e);if(u&&(e=u),s=getOwn(O,e))return v.nameToUrl(s,t,r);if(req.jsExtRegExp.test(e))c=e+(t||"");else{for(n=q.paths,a=(i=e.split("/")).length;a>0;a-=1)if(o=getOwn(n,i.slice(0,a).join("/"))){isArray(o)&&(o=o[0]),i.splice(0,a,o);break}c=i.join("/"),c=("/"===(c+=t||(/^data\:|^blob\:|\?/.test(c)||r?"":".js")).charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":q.baseUrl)+c}return q.urlArgs&&!/^blob\:/.test(c)?c+q.urlArgs(e,c):c},load:function(e,t){req.load(v,e,t)},execCb:function(e,t,r,n){return t.apply(n,r)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=h(e);v.completeLoad(t.id)}},onScriptError:function(e){var t=h(e);if(!n(t.id)){var r=[];return eachProp(S,(function(e,n){0!==n.indexOf("_@r")&&each(e.depMaps,(function(e){if(e.id===t.id)return r.push(n),!0}))})),s(makeError("scripterror",'Script error for "'+t.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[t.id]))}}}).require=v.makeRequire(),v}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),(function(e){if("interactive"===e.readyState)return interactiveScript=e})),interactiveScript}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,r,n){var i,a,c=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=r,r=n):e=[]),a&&a.context&&(c=a.context),(i=getOwn(contexts,c))||(i=contexts[c]=req.s.newContext(c)),a&&i.configure(a),i.require(e,t,r)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],(function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}})),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,r){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,r){var n,i=e&&e.config||{};if(isBrowser)return(n=req.createNode(i,t,r)).setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=r,i.onNodeCreated&&i.onNodeCreated(n,i,t,r),currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{setTimeout((function(){}),0),importScripts(r),e.completeLoad(t)}catch(n){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+r,n,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),(function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0})),define=function(e,t,r){var n,i;"string"!=typeof e&&(r=t,t=e,e=null),isArray(t)||(r=t,t=null),!t&&isFunction(r)&&(t=[],r.length&&(r.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,(function(e,r){t.push(r)})),t=(1===r.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript())&&(e||(e=n.getAttribute("data-requiremodule")),i=contexts[n.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,t,r]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,r])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),module.exports}.call({});const $6068b811f89e2ad8139c3e4346b97721$var$landerSection=document.querySelector(".section__lander"),$6068b811f89e2ad8139c3e4346b97721$var$featureSection=document.querySelector(".section__features"),$6068b811f89e2ad8139c3e4346b97721$var$mapSection=document.querySelector(".section__map"),$6068b811f89e2ad8139c3e4346b97721$var$chartSection=document.querySelector(".section__chart"),$6068b811f89e2ad8139c3e4346b97721$var$footerSection=document.querySelector(".section__footer"),$6068b811f89e2ad8139c3e4346b97721$var$featureNavBtn=document.querySelector(".nav__item#features"),$6068b811f89e2ad8139c3e4346b97721$var$mapNavBtn=document.querySelector(".nav__item#map"),$6068b811f89e2ad8139c3e4346b97721$var$chartNavBtn=document.querySelector(".nav__item#chart"),$6068b811f89e2ad8139c3e4346b97721$var$homeFooterBtn=document.querySelector(".footer__link#home"),$6068b811f89e2ad8139c3e4346b97721$var$loginBtn=document.querySelector(".btn-login"),$6068b811f89e2ad8139c3e4346b97721$var$registerBtn=document.querySelector(".footer__link#register"),$6068b811f89e2ad8139c3e4346b97721$var$loginOverlay=document.querySelector("#login-overlay"),$6068b811f89e2ad8139c3e4346b97721$var$registerOverlay=document.querySelector("#register-overlay"),$6068b811f89e2ad8139c3e4346b97721$var$initMap=function(){var e;null===(e=navigator.geolocation)||void 0===e||e.getCurrentPosition(function({coords:e}){const{latitude:t,longitude:r}=e,n=map("mapid").setView([t,r],13);tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(n),marker([t,r]).addTo(n).bindPopup("This is your current location right now.").openPopup();const i=i([t,r],{color:"#4ea8de",fillColor:"#64dfdf",fillOpacity:.5,radius:500}).addTo(n)}.bind(this),(()=>{alert("We weren't able to access your current location")}),{enableHighAccuracy:!0})},$6068b811f89e2ad8139c3e4346b97721$var$initNavigators=function(){const e=function(e,t){e.addEventListener("click",(()=>{t.scrollIntoView()}))};e($6068b811f89e2ad8139c3e4346b97721$var$featureNavBtn,$6068b811f89e2ad8139c3e4346b97721$var$featureSection),e($6068b811f89e2ad8139c3e4346b97721$var$mapNavBtn,$6068b811f89e2ad8139c3e4346b97721$var$mapSection),e($6068b811f89e2ad8139c3e4346b97721$var$chartNavBtn,$6068b811f89e2ad8139c3e4346b97721$var$chartSection),e($6068b811f89e2ad8139c3e4346b97721$var$homeFooterBtn,$6068b811f89e2ad8139c3e4346b97721$var$landerSection)},hideBoth=function(){[$6068b811f89e2ad8139c3e4346b97721$var$loginOverlay,$6068b811f89e2ad8139c3e4346b97721$var$registerOverlay].forEach((e=>e.style.display="none"))};exports.hideBoth=hideBoth;const $6068b811f89e2ad8139c3e4346b97721$var$initOverlays=function(){[...document.querySelectorAll("#show-password")].forEach((e=>$6068b811f89e2ad8139c3e4346b97721$var$addPasswordViewer(e))),$6068b811f89e2ad8139c3e4346b97721$var$loginBtn.addEventListener("click",(()=>{$6068b811f89e2ad8139c3e4346b97721$var$loginOverlay.style.display="flex"})),$6068b811f89e2ad8139c3e4346b97721$var$registerBtn.addEventListener("click",(()=>{$6068b811f89e2ad8139c3e4346b97721$var$registerOverlay.style.display="flex"}));[...document.querySelectorAll(".close-button")].forEach((e=>e.addEventListener("click",hideBoth)));[...document.querySelectorAll(".overlay")].forEach((e=>e.addEventListener("click",hideBoth))),window.addEventListener("keyup",(e=>{"Escape"==e.key&&hideBoth()}))},$6068b811f89e2ad8139c3e4346b97721$var$addPasswordViewer=function(e){e.addEventListener("click",(()=>{const t=[...document.querySelectorAll(".form__input.input-password")];" visibility_off "===e.innerHTML?e.innerHTML=" visibility ":e.innerHTML=" visibility_off ",t.forEach((e=>{"password"===e.type?e.type="text":e.type="password"}))}))},$6068b811f89e2ad8139c3e4346b97721$var$init=function(){$6068b811f89e2ad8139c3e4346b97721$var$initMap(),$6068b811f89e2ad8139c3e4346b97721$var$initNavigators(),$6068b811f89e2ad8139c3e4346b97721$var$initOverlays()};$6068b811f89e2ad8139c3e4346b97721$var$init();
//# sourceMappingURL=index.0680a7c6.js.map
